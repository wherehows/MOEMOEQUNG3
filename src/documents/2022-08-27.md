---
date: '2022-08-27'
title: '8월 4주차'
subTitle: '8월 4주차'
parent: 'Weekly Diary'
slug: '/weekly-diary/2022-08-27'
---
## 1. isNil 만들기


-----

## 2. rebase의 사용
페이지를 밑바닥부터 구현할 때, 보통 다음과 같은 상황에 많이 부딪혔다. A 기능과 B 기능을 구현하려고 할때, B 기능은 A 기능에 의존적이다. 그렇다면 A 기능에 대한 PR을 올려서 코드 리뷰가 진행인 가운데 B 기능은 어떻게 브랜치를 따서 PR을 올리고 코드 리뷰를 해야할까? 주변 개발자 분들을 통해서 조언을 구해서 다음과 같은 세가지 방법을 찾을 수 있었다.

B 브랜치를 A 브랜치로부터 딴 후 작업을 진행하되,

1. A 브랜치가 코드 리뷰가 끝나서 merge 되면 B 브랜치의 base를 main으로 잡는다

2. A 브랜치가 코드 리뷰가 끝나지 않았으면 B 브랜치를 A 브랜치에 병합한 후 A 브랜치를 merge한다

3. 아니면 로컬에서 B 브랜치를 develop 브랜치로부터 딴 후, A 브랜치의 작업 내용을 squash merge 한다

3번은 squash merge한 commit 기록이 남고, A 브랜치가 merge가 안됐을 때 PR을 올리면 변경된 코드 diff 기준이 develop 브랜치를 기준으로 보여주기 때문에 A 작업 내용 역시도 File Changed에 그대로 노출되게 된다.

-----

## 3. 곪아 터져버린 타입 폴더
페지별로 타입을 관리하며 개발해왔다. 타입을 선언하면서도 언젠가 타입 충돌이 일어나지 않을까 예상은 했었는데 오늘 터져버렸다. 동료가 개발하면서 선언한 타입이 내가 선언한 타입과 충돌이 일어난 것이다. (덕분에 squiggly lines에 대해서 눈으로만 확인해오고 터미널의 problems 탭은 확인하지 않았는데, 이제부터 확인하게 될것 같다.)

어떻게 하면 이러한 상황을 예방할 수 있었을까 생각해보면, 100%는 예뱡하는 것은 불가능하지 않나 싶다. 물론 새로운 타입을 선언할 때마다, 왠지 충돌이 날것 같은 이름을 지을 때마다 한번쯤 확인할 수는 있지만 명확한 기준도 없고 너무 피곤한 일인 것 같다.

다만 조금이라도 이러한 상황에 처하지 않기 위해서 FE 팀장님께 타입 폴더를 다음 세가지로 분류하는게 어떨까 하고 제안드렸다.

1. libraries
2. pages
3. apis

그리고 어느 폴더에도 속하지 않는 common.d.ts를 두는 것이다.

libraries 폴더의 경우, 현재 족히 5개 이상의 페이지에서 사용중인 구글 맵 라이브러리 혹은 mui 관련 타입을 선언하고, pages의 경우 클라이언트 상태 혹은 받아온 api에서 재가공된 타입들을 선언한다. 마지막으로 apis는 서버에서 내려주는 순수한 api 관련 타입들을 저장한다.

이렇게 구분한다고해서 타입 충돌을 100% 막을 수있는 것은 아니지만, 빈도는 낮출 수 있으리라 생각했고, FE 팀장님 역시도 흔쾌히 받아들여 주셨다.